<div class="container">
  <h3>Ürünü Düzenle</h3>

  <div *ngIf="loading">Yükleniyor...</div>

  <form *ngIf="!loading" [formGroup]="form" (ngSubmit)="submit()">
    <div class="mb-3">
      <label class="form-label">Ad</label>
      <input formControlName="name" class="form-control" />
      <div *ngIf="form.get('name')?.touched && form.get('name')?.invalid" class="text-danger">
        Ad zorunlu
      </div>
    </div>

    <div class="col-md-3">
      <div class="dropdown w-100">
        <label class="form-label">Kategori</label>
        <button class="btn btn-outline-primary w-100 dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
          {{ category?.value || 'Kategori Seç' }}
        </button>
        <ul class="dropdown-menu w-100">
          <li *ngFor="let c of categories">
            <a class="dropdown-item" (click)="selectCategory(c)">{{ c }}</a>
          </li>
        </ul>
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Fiyat</label>
      <input type="number" formControlName="price" class="form-control" />
      <div *ngIf="form.get('price')?.touched && form.get('price')?.invalid" class="text-danger">
        Geçerli bir fiyat girin
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Açıklama</label>
      <textarea formControlName="description" class="form-control"></textarea>
    </div>

    <a class="btn btn-link" (click)="submit()">Düzenle</a>
    <a class="btn btn-link" (click)="cancel()">İptal</a>
  </form>
</div>
